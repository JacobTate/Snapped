{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\micha\\\\coding\\\\Projects\\\\Snapped\\\\client\\\\src\\\\components\\\\Highlight.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport hljs from \"highlight.js/lib/highlight\";\nimport \"highlight.js/styles/monokai-sublime.css\";\nconst registeredLanguages = {};\n\nclass Highlight extends Component {\n  constructor(props) {\n    super(props);\n\n    this.highlight = () => {\n      this.codeNode && this.codeNode.current && hljs.highlightBlock(this.codeNode.current);\n    };\n\n    this.state = {\n      loaded: false\n    };\n    this.codeNode = React.createRef();\n  }\n\n  componentDidMount() {\n    const {\n      language\n    } = this.props;\n\n    if (language && !registeredLanguages[language]) {\n      try {\n        const newLanguage = require(`highlight.js/lib/languages/${language}`);\n\n        hljs.registerLanguage(language, newLanguage);\n        registeredLanguages[language] = true;\n        this.setState({\n          loaded: true\n        }, this.highlight);\n      } catch (e) {\n        console.error(e);\n        throw Error(`Cannot register the language ${language}`);\n      }\n    } else {\n      this.setState({\n        loaded: true\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    this.highlight();\n  }\n\n  render() {\n    const {\n      language,\n      children\n    } = this.props;\n    const {\n      loaded\n    } = this.state;\n\n    if (!loaded) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"pre\", {\n      className: \"rounded\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"code\", {\n      ref: this.codeNode,\n      className: language,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, children));\n  }\n\n}\n\nHighlight.propTypes = {\n  children: PropTypes.node.isRequired,\n  language: PropTypes.string\n};\nHighlight.defaultProps = {\n  language: \"json\"\n};\nexport default Highlight;","map":{"version":3,"sources":["C:/Users/micha/coding/Projects/Snapped/client/src/components/Highlight.js"],"names":["React","Component","PropTypes","hljs","registeredLanguages","Highlight","constructor","props","highlight","codeNode","current","highlightBlock","state","loaded","createRef","componentDidMount","language","newLanguage","require","registerLanguage","setState","e","console","error","Error","componentDidUpdate","render","children","propTypes","node","isRequired","string","defaultProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAO,yCAAP;AAEA,MAAMC,mBAAmB,GAAG,EAA5B;;AAEA,MAAMC,SAAN,SAAwBJ,SAAxB,CAAkC;AAChCK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SA8BnBC,SA9BmB,GA8BP,MAAM;AAChB,WAAKC,QAAL,IACE,KAAKA,QAAL,CAAcC,OADhB,IAEEP,IAAI,CAACQ,cAAL,CAAoB,KAAKF,QAAL,CAAcC,OAAlC,CAFF;AAGD,KAlCkB;;AAGjB,SAAKE,KAAL,GAAa;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAAb;AACA,SAAKJ,QAAL,GAAgBT,KAAK,CAACc,SAAN,EAAhB;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,UAAM;AAAEC,MAAAA;AAAF,QAAe,KAAKT,KAA1B;;AAEA,QAAIS,QAAQ,IAAI,CAACZ,mBAAmB,CAACY,QAAD,CAApC,EAAgD;AAC9C,UAAI;AACF,cAAMC,WAAW,GAAGC,OAAO,CAAE,8BAA6BF,QAAS,EAAxC,CAA3B;;AACAb,QAAAA,IAAI,CAACgB,gBAAL,CAAsBH,QAAtB,EAAgCC,WAAhC;AACAb,QAAAA,mBAAmB,CAACY,QAAD,CAAnB,GAAgC,IAAhC;AAEA,aAAKI,QAAL,CAAc;AAAEP,UAAAA,MAAM,EAAE;AAAV,SAAd,EAAgC,KAAKL,SAArC;AACD,OAND,CAME,OAAOa,CAAP,EAAU;AACVC,QAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACA,cAAMG,KAAK,CAAE,gCAA+BR,QAAS,EAA1C,CAAX;AACD;AACF,KAXD,MAWO;AACL,WAAKI,QAAL,CAAc;AAAEP,QAAAA,MAAM,EAAE;AAAV,OAAd;AACD;AACF;;AAEDY,EAAAA,kBAAkB,GAAG;AACnB,SAAKjB,SAAL;AACD;;AAQDkB,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEV,MAAAA,QAAF;AAAYW,MAAAA;AAAZ,QAAyB,KAAKpB,KAApC;AACA,UAAM;AAAEM,MAAAA;AAAF,QAAa,KAAKD,KAAxB;;AAEA,QAAI,CAACC,MAAL,EAAa;AACX,aAAO,IAAP;AACD;;AAED,wBACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAM,MAAA,GAAG,EAAE,KAAKJ,QAAhB;AAA0B,MAAA,SAAS,EAAEO,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGW,QADH,CADF,CADF;AAOD;;AApD+B;;AAuDlCtB,SAAS,CAACuB,SAAV,GAAsB;AACpBD,EAAAA,QAAQ,EAAEzB,SAAS,CAAC2B,IAAV,CAAeC,UADL;AAEpBd,EAAAA,QAAQ,EAAEd,SAAS,CAAC6B;AAFA,CAAtB;AAKA1B,SAAS,CAAC2B,YAAV,GAAyB;AACvBhB,EAAAA,QAAQ,EAAE;AADa,CAAzB;AAIA,eAAeX,SAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport hljs from \"highlight.js/lib/highlight\";\r\nimport \"highlight.js/styles/monokai-sublime.css\";\r\n\r\nconst registeredLanguages = {};\r\n\r\nclass Highlight extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { loaded: false };\r\n    this.codeNode = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { language } = this.props;\r\n\r\n    if (language && !registeredLanguages[language]) {\r\n      try {\r\n        const newLanguage = require(`highlight.js/lib/languages/${language}`);\r\n        hljs.registerLanguage(language, newLanguage);\r\n        registeredLanguages[language] = true;\r\n\r\n        this.setState({ loaded: true }, this.highlight);\r\n      } catch (e) {\r\n        console.error(e);\r\n        throw Error(`Cannot register the language ${language}`);\r\n      }\r\n    } else {\r\n      this.setState({ loaded: true });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.highlight();\r\n  }\r\n\r\n  highlight = () => {\r\n    this.codeNode &&\r\n      this.codeNode.current &&\r\n      hljs.highlightBlock(this.codeNode.current);\r\n  };\r\n\r\n  render() {\r\n    const { language, children } = this.props;\r\n    const { loaded } = this.state;\r\n\r\n    if (!loaded) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <pre className=\"rounded\">\r\n        <code ref={this.codeNode} className={language}>\r\n          {children}\r\n        </code>\r\n      </pre>\r\n    );\r\n  }\r\n}\r\n\r\nHighlight.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  language: PropTypes.string\r\n};\r\n\r\nHighlight.defaultProps = {\r\n  language: \"json\"\r\n};\r\n\r\nexport default Highlight;\r\n"]},"metadata":{},"sourceType":"module"}